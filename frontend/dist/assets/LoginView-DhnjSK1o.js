import{u as C,d as F}from"./index-ClTo44m5.js";/* empty css                     *//* empty css                *//* empty css                    *//* empty css                 */import{r as y,b as L,c as M,H as R,I as z,J as t,M as l,u as r,Z as a,S as n,W as x,a2 as B}from"./vue-BsGzy4bG.js";import{u as U}from"./vue-router-DQ646c9T.js";import{w as D,u as I,C as N,D as j,f as q,x as S,h as v}from"./element-plus-Bsbl4o2M.js";import"./pinia-Daj9vj9Q.js";import"./element-plus-icons-DT1t6uiv.js";const T={class:"max-w-md w-full space-y-8 p-4"},H={class:"text-center"},J={class:"p-8"},W={class:"flex items-center justify-between"},re={__name:"LoginView",setup(Z){const p=U(),m=y(),c=y(!1),{isDarkMode:e}=C(),s=L({username:"",password:"",remember:!1}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},w=M(()=>s.username.trim()!==""&&s.password.length>=6),g=async()=>{if(m.value)try{if(!await m.value.validate())return;c.value=!0;const o=await F(s.username,s.password);v.success("登录成功，欢迎回来！"),p.push("/")}catch(d){console.error("登录失败:",d),v.error(d.message||"登录失败，请检查用户名和密码是否正确")}finally{c.value=!1}},h=()=>{p.push("/register")};return(d,o)=>{const b=I,u=D,V=N,f=j,k=q,E=S;return z(),R("div",{class:l(["min-h-screen flex items-center justify-center transition-colors duration-300",{"bg-gray-50":!r(e),"bg-gray-950":r(e)}])},[t("div",T,[t("div",H,[o[3]||(o[3]=t("h1",{class:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"MindLink",-1)),t("p",{class:l(["mt-3 text-lg opacity-80 transition-colors",{"text-gray-600":!r(e),"text-gray-300":r(e)}])},"个人知识管理平台",2)]),t("div",{class:l(["rounded-2xl shadow-xl overflow-hidden transition-all duration-500 hover:shadow-2xl scale-in",{"bg-white":!r(e),"bg-gray-800":r(e)}])},[t("div",J,[t("h2",{class:l(["text-2xl font-bold mb-8 text-center transition-colors",{"text-gray-800":!r(e),"text-white":r(e)}])},"登录",2),a(E,{model:s,rules:_,ref_key:"loginFormRef",ref:m,onSubmit:B(g,["prevent"]),"validate-on-rule-change":!1},{default:n(()=>[a(u,{prop:"username",class:"mb-6"},{default:n(()=>[a(b,{modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=i=>s.username=i),placeholder:"请输入用户名",size:"large","prefix-icon":"User",class:l(["rounded-xl transition-all duration-300 input-focus",{"bg-gray-50 border-gray-200 hover:border-blue-300 focus:border-blue-500":!r(e),"bg-gray-700 border-gray-600 hover:border-blue-400 focus:border-blue-400 text-white":r(e)}])},null,8,["modelValue","class"])]),_:1}),a(u,{prop:"password",class:"mb-6"},{default:n(()=>[a(b,{modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=i=>s.password=i),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",class:l(["rounded-xl transition-all duration-300 input-focus",{"bg-gray-50 border-gray-200 hover:border-blue-300 focus:border-blue-500":!r(e),"bg-gray-700 border-gray-600 hover:border-blue-400 focus:border-blue-400 text-white":r(e)}])},null,8,["modelValue","class"])]),_:1}),a(u,{class:"mb-8"},{default:n(()=>[t("div",W,[a(V,{modelValue:s.remember,"onUpdate:modelValue":o[2]||(o[2]=i=>s.remember=i),class:l({"text-gray-700":!r(e),"text-gray-300":r(e)})},{default:n(()=>[...o[4]||(o[4]=[x(" 记住我 ",-1)])]),_:1},8,["modelValue","class"]),a(f,{type:"primary",underline:!1,class:"hover:opacity-80 transition-opacity btn-hover"},{default:n(()=>[...o[5]||(o[5]=[x(" 忘记密码？ ",-1)])]),_:1})])]),_:1}),a(u,null,{default:n(()=>[a(k,{type:"primary",size:"large",class:"w-full rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 border-0 hover:shadow-lg transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] btn-hover",loading:c.value,disabled:!w.value,onClick:g},{default:n(()=>[...o[6]||(o[6]=[t("span",{class:"font-medium"},"登录",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["model"]),t("div",{class:l(["text-center mt-8 pt-6 border-t transition-colors",{"border-gray-200":!r(e),"border-gray-700":r(e)}])},[t("span",{class:l(["opacity-80 transition-colors",{"text-gray-600":!r(e),"text-gray-400":r(e)}])},"还没有账号？",2),a(f,{type:"primary",underline:!1,onClick:h,class:"ml-1 hover:opacity-80 transition-opacity btn-hover"},{default:n(()=>[...o[7]||(o[7]=[t("span",{class:"font-medium"},"立即注册",-1)])]),_:1})],2)])],2)])],2)}}};export{re as default};
