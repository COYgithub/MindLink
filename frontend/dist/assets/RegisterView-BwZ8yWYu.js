import{u as E,r as P}from"./index-ClTo44m5.js";/* empty css                     *//* empty css                    *//* empty css                *//* empty css                 */import{r as v,b as C,H as L,I as M,J as l,M as i,u as o,Z as a,S as t,W as p,a2 as z}from"./vue-BsGzy4bG.js";import{u as R}from"./vue-router-DQ646c9T.js";import{v as U}from"./helpers-JRUdvybd.js";import{w as F,u as q,C as B,D,f as I,x as N,h as f}from"./element-plus-Bsbl4o2M.js";import"./pinia-Daj9vj9Q.js";import"./element-plus-icons-DT1t6uiv.js";const T={class:"max-w-md w-full space-y-8 p-4"},S={class:"text-center"},j={class:"p-8"},re={__name:"RegisterView",setup(H){const y=R(),b=v(),g=v(!1),{isDarkMode:r}=E(),s=C({username:"",email:"",password:"",confirmPassword:"",agree:!1}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:(m,e,n)=>{U(e).isValid?n():n(new Error("密码强度不够，请包含大小写字母、数字和特殊字符"))},trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(m,e,n)=>{e!==s.password?n(new Error("两次输入的密码不一致")):n()},trigger:"blur"}]},x=async()=>{if(b.value)try{if(!await b.value.validate())return;if(!s.agree){f.warning("请先同意用户协议和隐私政策");return}g.value=!0;const e=await P(s.username,s.email,s.password,s.confirmPassword);setTimeout(()=>{f.success("注册成功！欢迎加入MindLink"),y.push("/login"),g.value=!1},1e3)}catch(m){console.error("注册失败:",m),f.error(m.message||"注册失败，请检查输入信息并重试"),g.value=!1}},h=()=>{y.push("/login")};return(m,e)=>{const n=q,u=F,c=D,_=B,V=I,k=N;return M(),L("div",{class:i(["min-h-screen flex items-center justify-center transition-colors duration-300 scale-in",{"bg-gray-50":!o(r),"bg-gray-950":o(r)}])},[l("div",T,[l("div",S,[e[5]||(e[5]=l("h1",{class:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"MindLink",-1)),l("p",{class:i(["mt-3 text-lg opacity-80 transition-colors",{"text-gray-600":!o(r),"text-gray-300":o(r)}])},"连接思想，创造无限可能",2)]),l("div",{class:i(["rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300",{"bg-white":!o(r),"bg-gray-800":o(r)}])},[l("div",j,[l("h2",{class:i(["text-2xl font-bold mb-8 text-center transition-colors",{"text-gray-800":!o(r),"text-white":o(r)}])},"注册",2),a(k,{model:s,rules:w,ref_key:"registerFormRef",ref:b,onSubmit:z(x,["prevent"]),"validate-on-rule-change":!1},{default:t(()=>[a(u,{prop:"username",class:"mb-5"},{default:t(()=>[a(n,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=d=>s.username=d),placeholder:"请输入用户名",size:"large","prefix-icon":"User",class:i(["rounded-xl transition-all duration-300 input-focus",{"bg-gray-50 border-gray-200 hover:border-blue-300 focus:border-blue-500":!o(r),"bg-gray-700 border-gray-600 hover:border-blue-400 focus:border-blue-400 text-white":o(r)}])},null,8,["modelValue","class"])]),_:1}),a(u,{prop:"email",class:"mb-5"},{default:t(()=>[a(n,{modelValue:s.email,"onUpdate:modelValue":e[1]||(e[1]=d=>s.email=d),placeholder:"请输入邮箱",size:"large","prefix-icon":"Message",class:i(["rounded-xl transition-all duration-300 input-focus",{"bg-gray-50 border-gray-200 hover:border-blue-300 focus:border-blue-500":!o(r),"bg-gray-700 border-gray-600 hover:border-blue-400 focus:border-blue-400 text-white":o(r)}])},null,8,["modelValue","class"])]),_:1}),a(u,{prop:"password",class:"mb-5"},{default:t(()=>[a(n,{modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=d=>s.password=d),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",class:i(["rounded-xl transition-all duration-300 input-focus",{"bg-gray-50 border-gray-200 hover:border-blue-300 focus:border-blue-500":!o(r),"bg-gray-700 border-gray-600 hover:border-blue-400 focus:border-blue-400 text-white":o(r)}])},null,8,["modelValue","class"])]),_:1}),a(u,{prop:"confirmPassword",class:"mb-7"},{default:t(()=>[a(n,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=d=>s.confirmPassword=d),type:"password",placeholder:"请确认密码",size:"large","prefix-icon":"Lock","show-password":"",class:i(["rounded-xl transition-all duration-300 input-focus",{"bg-gray-50 border-gray-200 hover:border-blue-300 focus:border-blue-500":!o(r),"bg-gray-700 border-gray-600 hover:border-blue-400 focus:border-blue-400 text-white":o(r)}])},null,8,["modelValue","class"])]),_:1}),a(u,{class:"mb-8"},{default:t(()=>[a(_,{modelValue:s.agree,"onUpdate:modelValue":e[4]||(e[4]=d=>s.agree=d),class:i({"text-gray-700":!o(r),"text-gray-300":o(r)})},{default:t(()=>[e[8]||(e[8]=p(" 我已阅读并同意 ",-1)),a(c,{type:"primary",underline:!1,class:"btn-hover"},{default:t(()=>[...e[6]||(e[6]=[p("《用户协议》",-1)])]),_:1}),e[9]||(e[9]=p(" 和 ",-1)),a(c,{type:"primary",underline:!1,class:"btn-hover"},{default:t(()=>[...e[7]||(e[7]=[p("《隐私政策》",-1)])]),_:1})]),_:1},8,["modelValue","class"])]),_:1}),a(u,null,{default:t(()=>[a(V,{type:"primary",size:"large",class:"w-full rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 border-0 hover:shadow-lg transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] btn-hover",loading:g.value,onClick:x},{default:t(()=>[...e[10]||(e[10]=[l("span",{class:"font-medium"},"注册",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),l("div",{class:i(["text-center mt-8 pt-6 border-t transition-colors",{"border-gray-200":!o(r),"border-gray-700":o(r)}])},[l("span",{class:i(["opacity-80 transition-colors",{"text-gray-600":!o(r),"text-gray-400":o(r)}])},"已有账号？",2),a(c,{type:"primary",underline:!1,onClick:h,class:"ml-1 hover:opacity-80 transition-opacity btn-hover"},{default:t(()=>[...e[11]||(e[11]=[l("span",{class:"font-medium"},"立即登录",-1)])]),_:1})],2)])],2)])],2)}}};export{re as default};
