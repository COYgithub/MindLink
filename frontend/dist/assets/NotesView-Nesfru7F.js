import{u as E}from"./index-ClTo44m5.js";/* empty css               */import{r as h,B as S,H as m,I as n,J as s,Z as i,S as c,W as x,u as t,Y as v,ae as w,M as l,L as V,a2 as Y,X as g,R as k,U as j}from"./vue-BsGzy4bG.js";import{B as H,P as $,n as L}from"./element-plus-icons-DT1t6uiv.js";import{u as R}from"./noteStore-GpHaBAYh.js";import{u as T}from"./vue-router-DQ646c9T.js";import{f as A,b as F,j as J,h as N,k as P}from"./element-plus-Bsbl4o2M.js";import"./pinia-Daj9vj9Q.js";const U={class:"container mx-auto px-3 sm:px-4 py-6 md:py-10 max-w-7xl"},W={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 md:mb-10 gap-4"},X={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 md:gap-8"},Z=["onClick"],q={class:"absolute top-3 right-3 z-10"},G={class:"p-6"},K={class:"flex flex-wrap gap-2 mb-4"},O={class:"flex justify-between items-center text-xs opacity-70"},Q={class:"flex items-center space-x-2"},it={__name:"NotesView",setup(I){const f=T(),p=R(),d=h([]);h(!0);const{isDarkMode:e}=E(),z=()=>{f.push("/notes/new"),console.log("创建新笔记")},C=o=>{o&&(f.push(`/notes/${o}`),console.log("打开笔记:",o))},B=async o=>{try{await p.deleteNote(o),d.value=d.value.filter(a=>a.id!==o),N.success("笔记删除成功")}catch(a){console.error("删除笔记失败:",a),N.error("删除笔记失败，请重试")}},M=o=>P(o).format("YYYY-MM-DD HH:mm");return S(async()=>{await p.fetchNotes(),d.value=p.notes}),(o,a)=>{const y=A,b=F,_=J;return n(),m("div",{class:l(["min-h-screen transition-colors duration-300 scale-in",{"bg-gray-50":!t(e),"bg-gray-950":t(e)}])},[s("div",U,[s("div",W,[a[1]||(a[1]=s("h1",{class:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"我的笔记",-1)),i(y,{type:"primary",onClick:z,icon:t(H),class:"w-full sm:w-auto bg-gradient-to-r from-blue-500 to-purple-500 border-0 hover:shadow-lg hover:-translate-y-0.5 btn-hover"},{default:c(()=>[...a[0]||(a[0]=[x(" 新建笔记 ",-1)])]),_:1},8,["icon"])]),s("div",X,[(n(!0),m(v,null,w(d.value,(r,D)=>(n(),m("div",{key:r.id,class:l(["rounded-xl shadow-md cursor-pointer overflow-hidden card-hover relative",{"bg-white":!t(e),"bg-gray-800":t(e)}]),onClick:u=>C(r.id),style:V([{"animation-delay":"calc(0.05s * var(--index))"},{"--index":D}])},[s("div",q,[i(y,{size:"small",circle:"",type:"danger",onClick:Y(u=>B(r.id),["stop"]),class:l({"bg-red-500 hover:bg-red-600 border-0":!t(e),"bg-red-600 hover:bg-red-700 border-0":t(e)}),title:"删除笔记"},{default:c(()=>[i(b,{size:"16"},{default:c(()=>[i(t($))]),_:1})]),_:1},8,["onClick","class"])]),s("div",G,[s("h3",{class:l(["text-xl font-bold mb-3 transition-colors",{"text-gray-800":!t(e),"text-white":t(e)}])},g(r.title),3),s("p",{class:l(["text-sm opacity-80 mb-5 line-clamp-3 transition-colors",{"text-gray-600":!t(e),"text-gray-400":t(e)}])},g(r.summary),3),s("div",K,[(n(!0),m(v,null,w(r.tags||[],u=>(n(),k(_,{key:u,size:"small",effect:"plain",class:l(["rounded-full text-xs transition-all hover:scale-105 hover:shadow-md",{"bg-gray-100 text-gray-700":!t(e),"bg-gray-700 text-gray-300":t(e)}])},{default:c(()=>[x(g(u),1)]),_:2},1032,["class"]))),128)),!r.tags||r.tags.length===0?(n(),k(_,{key:0,size:"small",effect:"plain",class:l(["rounded-full text-xs transition-all hover:scale-105 hover:shadow-md",{"bg-gray-100 text-gray-700":!t(e),"bg-gray-700 text-gray-300":t(e)}])},{default:c(()=>[...a[2]||(a[2]=[x(" 无标签 ",-1)])]),_:1},8,["class"])):j("",!0)]),s("div",O,[s("span",{class:l(["transition-colors",{"text-gray-500":!t(e),"text-gray-400":t(e)}])},g(M(r.updatedAt)),3),s("div",Q,[i(b,{size:"14",class:"transition-colors hover:text-blue-500 dark:hover:text-blue-400 duration-300"},{default:c(()=>[i(t(L))]),_:1}),s("span",{class:l(["transition-colors",{"text-gray-500":!t(e),"text-gray-400":t(e)}])},"更新",2)])])]),a[3]||(a[3]=s("div",{class:"h-1 bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300"},null,-1))],14,Z))),128))])])],2)}}};export{it as default};
